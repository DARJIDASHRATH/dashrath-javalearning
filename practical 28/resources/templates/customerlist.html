<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="ISO-8859-1">
	<title>Customer Management System</title>
	<link rel="stylesheet" 
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
			integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
			crossorigin="anonymous" />
	</head>
<style>
body {font-family: Arial, Helvetica, sans-serif;}
*{box-sizing: border-box;}

button {
	background-color: #04AA6D;
	color: white;
	padding: 14px 20px;
	margin: 8px 0;
	border: none;
	cursor: pointer;
	width: 100%;
	opacity: 0.9;
}

button:hover {
	opacity:1;
	text-decoration: none;
}

.cancelbtn, .deletebtn {
	float: left;
	width: 50%;
}

.cancelbtn {
	background-color: #ccc;
	color: black;
}

.deletebtn {
	background-color: #f44336;
}

.container {
	padding: 16px;
	text-align: center;
}

.modal {
display: none;
	position: fixed;
	z-index: 1;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	overflow: auto;
	background-color: #474e5d;
	padding-top: 50px;
}

.modal-content {
	background-color: #fefefe;
	margin: 5% auto 15% auto;
	border: 1px solid #888;
	width: 80%;
}

hr {
	border: 1px solid #f1f1f1;
	margin-bottom: 25px;
}

.close {
	position: absolute;
	right: 35px;
	top: 15px;
	font-size: 40px;
	font-weight: bold;
	color: #f1f1f1;
}

.close:hover,
.close:focus {
	color: #f44336;
	cursor: pointer;
}

.clearfix::after {
	content: "";
	clear: both;
	display: table;
}

@media screen and (max-width: 300px) {
	.cancelbtn, .deletebtn {
	width: 100%;
	}
}
</style>
<body >
	<div class="container"  >
		<div class="row" >
			<h1 style="margin-left: 430px; margin-top: 20px;" >Customers List</h1>
		</div>

		<div class="row">
			<div class="col-lg-3">
				<a href="/customer/new" class="btn btn-primary btn-sm mb-3" style="margin-left: 1064px;">Add</a>
			</div>
		</div>

		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>Name</th> 
					<th>Date Of Birth</th>
					<th>Mobile Number</th>
					<th>Address</th>
					<th>Gender</th>
					<th width="200px" id="actiontag">Actions</th>
				</tr>
			</thead>

			<tbody>
				<input type="hidden" name="id" id="iddelete" class="form-control"/>
				<tr th:each="customer : ${customer}">
					<td th:text="${customer.firstName+' '+customer.lastName}"></td>
					<td th:text="${#dates.format(customer.dateOfBirth, 'dd-MM-yyyy')}"></td>
					<td th:text="${customer.mobileNumber}"></td>
					<td th:text="${customer.address1+ ', ' + customer.address2}"></td>
					<td th:text="${customer.gender == '1' ? 'Male' : (customer.gender == '2' ? 'Female' : 'Other')}"></td>
					<td>
						<a th:href="@{/customer/new/{id}(id=${customer.id})}" class="btn btn-primary">Edit</a>
						<a id="deletebtn" class="btn btn-danger"
							th:onclick="document.getElementById('id01').style.display='block';
							setAnchorTag([[${customer.id}]])">Delete</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div id="id01" class="modal">
	<span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal">Ã—</span>
	<form class="modal-content">
	<div class="container">
		<h1>Delete Account</h1>
		<p>Are you sure you want to delete your account?</p>
		<div class="clearfix">
			<a type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</a>
			<a id="anchor" onclick="document.getElementById('id01').style.display='none';"
				class="deletebtn">Delete</a>
		</div>
	</div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" ></script>
<script>
	var ele = document.getElementById('iddelete');
	var anchor = document.getElementById('anchor');
	function setAnchorTag(id){
		anchor.href="/customer/"+id;
	}
</script>
</html>